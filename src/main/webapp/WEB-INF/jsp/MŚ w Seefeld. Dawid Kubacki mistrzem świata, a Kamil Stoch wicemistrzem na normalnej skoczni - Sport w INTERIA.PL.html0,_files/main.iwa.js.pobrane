!function(e){function t(t){for(var n,r,s=t[0],o=t[1],a=0,u=[];a<s.length;a++)r=s[a],i[r]&&u.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);u.length;)u.shift()()}var n={},i={12:0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=s);var o,a=document.createElement("script");a.charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.src=function(e){return r.p+""+({0:"plugin-0",1:"plugin-10",2:"plugin-12",3:"plugin-14",4:"plugin-16",5:"plugin-18",6:"plugin-2",7:"plugin-20",8:"plugin-4",9:"plugin-6",10:"plugin-8",11:"vendors~plugin-2"}[e]||e)+".iwa.js"}(e),o=function(t){a.onerror=a.onload=null,clearTimeout(c);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+s+")");o.type=r,o.request=s,n[1](o)}i[e]=void 0}};var c=setTimeout(function(){o({type:"timeout",target:a})},12e4);a.onerror=a.onload=o,document.head.appendChild(a)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="https://iwa2.iplsc.com/new/",r.oe=function(e){throw console.error(e),e};var s=window.webpackJsonpIWA=window.webpackJsonpIWA||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var a=0;a<s.length;a++)t(s[a]);var c=o;r(r.s=18)}([function(e,t,n){"use strict";function i(e){return!!e&&e.constructor===Array}function r(e){return(!!e||0===e)&&e.constructor===Number}function s(e){return!!e&&"Object"===e.constructor.name}function o(e){return"object"==typeof e}function a(e){return e&&"object"==typeof e&&!Array.isArray(e)&&null!==e}function c(e){return!!e&&e.constructor===Function}function u(e){return null!=e}function l(e){return"[object String]"===Object.prototype.toString.call(e)}function h(e,t){return a(e)&&a(t)&&Object.keys(t).forEach(function(n){a(t[n])?(e[n]||Object.assign(e,{[n]:{}}),h(e[n],t[n])):Object.assign(e,{[n]:t[n]})}),e}function g(e,t){return!(!u(e)||!i(t)||-1===t.indexOf(e))}function d(e){return o(e)?Object.keys(e).map(function(t,n){return[t,e[t],n]}):[]}function p(e){let t={};try{t=JSON.parse(e)}catch(e){window.Inpl.Log.log(e,0,"iwa2_err")}return t}function f(e){let t="";try{t=JSON.stringify(e)}catch(e){window.Inpl.Log.log(e,0,"iwa2_err")}return t}function w(e){const t=document.createElement("a");return t.href=e,t}function m(){return Object.assign({},...location.search.replace(/(^\?)/,"").split("&").map(function(e){return e.split("=")}).map(function(e){return{[e[0]]:e[1]}}))}function v(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function k(e){const t=function(e,t){return e<<t|e>>>32-t},n=function(e){let t,n,i="";for(t=7;t>=0;t--)i+=(n=e>>>4*t&15).toString(16);return i};let i,r,s;const o=new Array(80);let a,c,u,l,h,g,d=1732584193,p=4023233417,f=2562383102,w=271733878,m=3285377520;const v=decodeURIComponent(encodeURIComponent(e)),k=v.length,I=[];for(r=0;r<k-3;r+=4)s=v.charCodeAt(r)<<24|v.charCodeAt(r+1)<<16|v.charCodeAt(r+2)<<8|v.charCodeAt(r+3),I.push(s);switch(k%4){case 0:r=2147483648;break;case 1:r=v.charCodeAt(k-1)<<24|8388608;break;case 2:r=v.charCodeAt(k-2)<<24|v.charCodeAt(k-1)<<16|32768;break;case 3:r=v.charCodeAt(k-3)<<24|v.charCodeAt(k-2)<<16|v.charCodeAt(k-1)<<8|128}for(I.push(r);14!==Number(I.length%16);)I.push(0);for(I.push(k>>>29),I.push(k<<3&4294967295),i=0;i<I.length;i+=16){for(r=0;r<16;r++)o[r]=I[i+r];for(r=16;r<=79;r++)o[r]=t(o[r-3]^o[r-8]^o[r-14]^o[r-16],1);for(a=d,c=p,u=f,l=w,h=m,r=0;r<=19;r++)g=t(a,5)+(c&u|~c&l)+h+o[r]+1518500249&4294967295,h=l,l=u,u=t(c,30),c=a,a=g;for(r=20;r<=39;r++)g=t(a,5)+(c^u^l)+h+o[r]+1859775393&4294967295,h=l,l=u,u=t(c,30),c=a,a=g;for(r=40;r<=59;r++)g=t(a,5)+(c&u|c&l|u&l)+h+o[r]+2400959708&4294967295,h=l,l=u,u=t(c,30),c=a,a=g;for(r=60;r<=79;r++)g=t(a,5)+(c^u^l)+h+o[r]+3395469782&4294967295,h=l,l=u,u=t(c,30),c=a,a=g;d=d+a&4294967295,p=p+c&4294967295,f=f+u&4294967295,w=w+l&4294967295,m=m+h&4294967295}return(g=n(d)+n(p)+n(f)+n(w)+n(m)).toLowerCase()}n.d(t,"d",function(){return i}),n.d(t,"g",function(){return r}),n.d(t,"i",function(){return s}),n.d(t,"h",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"l",function(){return h}),n.d(t,"c",function(){return g}),n.d(t,"m",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"p",function(){return f}),n.d(t,"a",function(){return w}),n.d(t,"b",function(){return m}),n.d(t,"q",function(){return v}),n.d(t,"o",function(){return k})},function(e,t,n){"use strict";var i=n(0);class r{constructor(e,t,n){this.setName(e),this.setValue(t),this.setScope(n)}setName(e){this.name=e}setValue(e){this.value=e}setScope(e){this.scope=e}getName(){return this.name}getValue(){return this.value}getScope(){return this.scope}}var s=n(4);n.d(t,"a",function(){return o});class o{constructor(e=null){if(this.customVariables={},this.config=new s.a,i.i(e))for(const[t,n]of i.m(e))this.set(t,n,"page")}set(e,t,n){if(i.k(e)&&i.e(n)&&(i.k(t)||i.g(t)||i.d(t))){let r=i.k(e)?e:String(e);const s=i.k(t)?t.slice(0,this.config.customVariableMaxLength):t;if(r=r.slice(0,this.config.customVariableMaxLength),i.d(t)&&0===t.length)return;this.setVar(r,s,n)}}del(e,t){i.e(this.customVariables[e])&&this.customVariables[e].getScope()===t&&delete this.customVariables[e]}setVar(e,t,n){this.customVariables[e]=new r(e,t,n)}get(){return this.customVariables}serialize(){var e=this;const t=Object.keys(this.customVariables).map(function(t){return`${t}=${i.e(e.customVariables[t].value)?e.customVariables[t].value:e.customVariables[t]}`});return encodeURIComponent(t.join("&"))}}},function(e,t,n){"use strict";var i=n(0);class r{constructor(){try{window.localStorage.setItem("IWALocalStorage","1");const e=window.localStorage.getItem("IWALocalStorage");if(window.localStorage.removeItem("IWALocalStorage"),!e)return{noSupport:1}}catch(e){return{noSupport:1}}}set(e,t){e&&t&&localStorage.setItem(e,i.p({key:t.key,value:t.value,expire:t.expire,path:t.path,domain:t.domain,storages:t.storages,IWAStorageItem:!0}))}get(e,t){let n=localStorage.getItem(e);return n&&(t&&-1!==n.indexOf("IWAStorageItem")||-1!==n.indexOf("IWAStorageItem"))?n=i.n(n):n&&!t&&-1===n.indexOf("IWAStorageItem")&&(n=null),n}del(e,t){const n=localStorage.getItem(e);n&&(-1!==n.indexOf("IWAStorageItem")||t)&&localStorage.removeItem(e)}getAll(e){const t={};for(const[n,r]of i.m(localStorage))(-1!==r.indexOf("IWAStorageItem")||e)&&(t[n]=i.n(r));return t}clear(e){for(const[t,n]of i.m(localStorage))(-1!==n.indexOf("IWAStorageItem")||e)&&localStorage.removeItem(t)}}var s=n(5);class o{constructor(){try{window.sessionStorage.setItem("IWASessionStorage","1");const e=window.sessionStorage.getItem("IWASessionStorage");if(window.sessionStorage.removeItem("IWASessionStorage"),!e)return{noSupport:1}}catch(e){return{noSupport:1}}}set(e,t){e&&t&&sessionStorage.setItem(e,i.p({key:t.key,value:t.value,expire:t.expire,path:t.path,domain:t.domain,storages:t.storages,IWAStorageItem:!0}))}get(e,t){let n=sessionStorage.getItem(e);return n&&(t&&-1!==n.indexOf("IWAStorageItem")||-1!==n.indexOf("IWAStorageItem"))?n=i.n(n):n&&!t&&-1===n.indexOf("IWAStorageItem")&&(n=null),n}del(e,t){const n=sessionStorage.getItem(e);n&&(-1!==n.indexOf("IWAStorageItem")||t)&&sessionStorage.removeItem(e)}getAll(e){const t={};for(const[n,r]of i.m(sessionStorage))(-1!==r.indexOf("IWAStorageItem")||e)&&(t[n]=i.n(r));return t}clear(e){for(const[t,n]of i.m(sessionStorage))(-1!==n.indexOf("IWAStorageItem")||e)&&sessionStorage.removeItem(t)}}n.d(t,"a",function(){return a});class a{constructor(e){const t={localStorage:r,cookie:s.a,sessionStorage:o};return i.k(e)?new t[e]:t}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(0);class r{constructor(e){this.events={},this.target=e}on(e,t,n=!1){if(this.target&&i.f(t))this.target.addEventListener(e,t,n);else{if(!i.e(this.target.attachEvent))return!1;this.target.attachEvent(`on${e}`,t)}return this.events[e]?this.events[e].push(t):(this.events[e]=[],this.events[e].push(t)),"load"!==e&&"DOMContentLoaded"!==e||"complete"!==document.readyState||t(),!0}off(e){this.events[e]&&delete this.events[e]}fireEvent(e){var t=this;this.events[e]&&this.events[e].forEach(function(e){e.apply(t)})}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});let i=null;class r{constructor(){if(!i){i=this;const e=window.location.hash.replace("#",""),t="wss://iwa3.hit.interia.pl:8443/collector",n="https://iwa3.hit.interia.pl:8443";this.config={request:{socketEnabled:1,socket:{url:t,reconnectionDelay:0},http:{url:n}},debugger:"IWADebugMode"===e,environment:{env:"production",global:window,type:"browser"},version:"2.0.84",customVariableMaxLength:250,paramMaxLength:200}}return i}getConfig(){return this.config}setConfig(e){const t=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&null!==e};return function e(n,i){return t(n)&&t(i)&&Object.keys(i).forEach(function(r){t(i[r])?(n[r]||Object.assign(n,{[r]:{}}),e(n[r],i[r])):Object.assign(n,{[r]:i[r]})}),n}(this.config,e)}getEnvConfig(){return this.config.environment}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var i=n(0);class r{constructor(){let e=navigator.cookieEnabled;if(e||(document.cookie="IWATestCookie",e=-1!==document.cookie.indexOf("IWATestCookie")),!e)return{noSupport:1}}set(e,t){e&&t&&(document.cookie=[`${e}=${t.value}$IWAStorageItem$`,`expires=${new Date(t.expire).toUTCString()}`,`path=${t.path}`,`domain=${t.domain}`].join(";"))}get(e,t){let n;if(-1!==document.cookie.indexOf(`${e}=`)){const i=document.cookie.split(`${e}=`).pop().split("; ")[0];(-1!==i.indexOf("$IWAStorageItem$")||t)&&(n={key:e,value:i.replace("$IWAStorageItem$","")})}return n}del(e,t){i.e(this.get(e,t))&&(document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:01 GMT;`,document.cookie=`${e}=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/; domain=${"undefined"!=typeof location?location.host:".interia.pl"}`)}getAll(e){const t=document.cookie.split("; ").map(function(e){return e.split("=")[0]}),n={};for(const i of t){const t=this.get(i,e);t&&(n[i]=t)}return n}clear(e){const t=document.cookie.split("; ").map(function(e){return e.split("=")[0]});for(const n of t)this.del(n,e)}}},function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"b",function(){return a});var i=n(2),r=n(0);function s(){return{java:window.navigator.javaEnabled(),screenWidth:window.screen.availWidth,screenHeight:window.screen.availHeight,viewportWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),viewportHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),colorDepth:window.screen.colorDepth,devicePixelRatio:window.devicePixelRatio,vendorSub:window.navigator.vendorSub,productSub:window.navigator.productSub,maxTouchPoints:window.navigator.maxTouchPoints,hardwareConcurrency:window.navigator.hardwareConcurrency,cookieEnabled:window.navigator.cookieEnabled,appCodeName:window.navigator.appCodeName,appName:window.navigator.appName,appVersion:window.navigator.appVersion,platform:window.navigator.platform,product:window.navigator.product,userAgent:window.navigator.userAgent,language:window.navigator.language,onLine:window.navigator.onLine,doNotTrack:window.navigator.doNotTrack,geolocation:!!window.navigator.geolocation}}function o(){const e=s();return Object.keys(e).map(function(t){return`${t}=${e[t]}`}).join("&")}function a(){const e=new i.a,t=[];for(const[n,i]of r.m(e)){!(new i).noSupport&&t.push(n.toLowerCase())}return t}},,,,,,,,,,,,function(e,t,n){e.exports=n(20)},function(e,t,n){var i={"./browserFeatures":[7,0],"./browserFeatures.js":[7,0],"./browserFingerprint":[8,11,6],"./browserFingerprint.js":[8,11,6],"./clickMap":[9,8],"./clickMap.js":[9,8],"./geolocation":[10,9],"./geolocation.js":[10,9],"./logoVisibility":[11,10],"./logoVisibility.js":[11,10],"./pageheight":[12,1],"./pageheight.js":[12,1],"./performance":[13,2],"./performance.js":[13,2],"./scroll":[14,3],"./scroll.js":[14,3],"./timeSpent":[15,4],"./timeSpent.js":[15,4],"./userOrigin":[16,5],"./userOrigin.js":[16,5],"./viewAbility":[17,7],"./viewAbility.js":[17,7]};function r(e){if(!n.o(i,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=i[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(r)})}r.keys=function(){return Object.keys(i)},r.id=19,e.exports=r},function(e,t,n){"use strict";n.r(t);var i=n(0);class r{constructor(e){this.setKey(e.key),this.setValue(e.value),this.setExpire(e.expire),this.setPath(e.path),this.setDomain(e.domain),this.setStorages(e.storages)}setKey(e){this.key=e}setValue(e){this.value=e||""}setExpire(e){let t=e;if(!i.e(e)){t=new Date(String((new Date).getFullYear()+100)).toUTCString()}if(i.g(e)){const n=new Date;n.setTime(e),t=n.toUTCString()}this.expire=t}setPath(e){this.path=e||"/"}setDomain(e){this.domain=e||("undefined"!=typeof location?location.hostname:".interia.pl")}setStorages(e){this.storages=i.d(e)?e:"all"}setSync(e){this.sync=e}getKey(){return this.key}getValue(){return this.value}getExpire(){return this.expire}getPath(){return this.path}getDomain(){return this.domain}getStorages(){return this.storages}getSync(){return this.sync}}var s=n(2);class o{constructor(){this.storages={ls:"localStorage",ss:"sessionStorage",cs:"cookie"},this.constructor.detectSupport.apply(this),this.fullNamesMap=Object.assign({},...Object.entries(this.storages).map(function(e){return{[e[0]]:e[1]}})),this.shortNamesMap=Object.assign({},...Object.entries(this.storages).map(function(e){return{[e[1]]:e[0]}})),this.shortNames=Object.keys(this.fullNamesMap),this.fullNames=Object.keys(this.shortNamesMap)}static detectSupport(){for(const[e,t]of i.m(this.storages)){new s.a(t).noSupport&&delete this.storages[e]}}getFullNames(e){const t=[];for(const n of e)this.fullNamesMap[n]&&t.push(this.fullNamesMap[n]),this.shortNamesMap[n]&&t.push(n);return t}getShortNames(e){const t=[];for(const n of e)this.shortNamesMap[n]&&t.push(this.shortNamesMap[n]),this.fullNamesMap[n]&&t.push(n);return t}getFullName(e){return this.fullNamesMap[e]||(this.shortNamesMap[e]?e:void 0)}getShortName(e){return this.shortNamesMap[e]||(this.fullNamesMap[e]?e:void 0)}}let a=null;class c{constructor(){return a||(a=this,this.storageItems={},this.storageNames=new o,this.onSyncCompleteQueue=[],this.asyncStoragesLength=0,this.constructor.getStoragesToContainer.apply(this),this.constructor.synchronizeStorages.apply(this)),a}static getStoragesToContainer(){var e=this;let t=0;this.storageNames.fullNames.forEach(function(n){const r=new s.a(n).getAll();i.f(r.then)?(e.asyncStoragesLength+=1,r.then(function(n){t+=1,n&&e.constructor.syncStoragesWithContainer.apply(e,[n]),t===e.asyncStoragesLength&&(e.constructor.synchronizeStorages.apply(e),e.onSyncCompleteQueue.forEach(function(e){e()}))})):e.constructor.syncStoragesWithContainer.apply(e,[r])})}static syncStoragesWithContainer(e){for(const[t,n]of i.m(e))n.storages=i.d(n.storages)?this.storageNames.getShortNames(n.storages):"all",Object.assign(this.storageItems,{[t]:new r(n)})}static synchronizeStorages(){var e=this;for(const[t,n]of i.m(this.storageItems))this.storageNames.shortNames.forEach(function(r){if((i.d(n.storages)&&-1!==n.storages.indexOf(r)||"all"===n.storages)&&("cs"!==r||"_iwa_vid"===t)){const i=new s.a(e.storageNames.getFullName(r)),o=e.storageNames.getShortNames(n.storages);n.storages=o.length?o:"all",i.set(t,n)}})}onSyncComplete(e){0===this.asyncStoragesLength?e():i.f(e)&&this.onSyncCompleteQueue.push(e)}getAll(){return this.storageItems}set(e){var t=this;const n=i.d(e.storages)&&e.storages.length,r=new Set(this.storageNames.shortNames),o=n?new Set(e.storages):e.storages,a=n?new Set([...r].filter(function(e){return o.has(e)})):r,c=o instanceof Set?Array.from(o):o,u=this.storageNames.getShortNames(c);a.forEach(function(n){if("cs"!==n||"_iwa_vid"===e.key){const i=new s.a(t.storageNames.getFullName(n));i.noSupport||i.set(e.key,{key:e.key,value:e.value,expire:e.expire,path:e.path,domain:e.domain,storages:u.length?u:"all"})}})}del(e){for(const t of this.storageNames.fullNames)new s.a(t).del(e)}}let u=null;class l{constructor(){return u||(u=this,this.storageNames=new o,this.storageItems=(new c).getAll(),this.synchronizer=new c),u}set(...e){if(i.k(e[0])){let t,n,s,o,a,c;const u={key:t,value:n,expire:s,path:o,domain:a,storages:c};for(const[t,,n]of i.m(u)){if(i.d(e[n])){u.storages=this.storageNames.getShortNames(e[n]);break}u[t]=e[n]}this.storageItems[u.key]=new r(u),this.synchronizer.set(this.storageItems[u.key])}}del(e){i.k(e)&&i.e(this.storageItems[e])&&(delete this.storageItems[e],this.synchronizer.del(e))}get(e){let t;return this.purge(),i.k(e)&&i.e(this.storageItems[e])&&(t=this.storageItems[e]),t}getAll(){return this.purge(),this.storageItems}purge(){for(const[e,t]of i.m(this.storageItems))new Date(t.expire).getTime()<(new Date).getTime()&&this.del(e)}onSyncComplete(e){this.synchronizer.onSyncComplete(e)}}class h{constructor(){return this.storage=new l,this.storage}}var g=n(1);class d{constructor(e){var t=this;this.t=e.shift(),this.cv=null,this.ec=null;const n={};let r=0;e.forEach(function(e){i.j(e)&&e.customVariables instanceof g.a?t.cv=e.customVariables:e instanceof g.a?t.cv=e:i.i(e)?t.cv=new g.a(e):(n[`ec${r}`]=e,r+=1)}),r&&(this.ec=new g.a(n))}getEvent(){return{t:this.t,cv:this.cv?this.cv.get():null,ec:this.ec?this.ec.get():null}}getSerializedEvent(){return{t:this.t,cv:this.cv?this.cv.serialize():null,ec:this.ec?this.ec.serialize():null}}}var p=n(3);let f=null;class w{constructor(e){var t=this;if(!f){f=this,this.tracker=e,this.emitter=e.emitter,this.pluginsRegistered={},this.queue=[],this.onLoadQueue=[],this.executeImmediately=!1,this.emitter.on("pageview",function(){t.startQueue(t.queue),t.emitter.off("pageview"),t.executeImmediately=!0}),new p.a(window).on("load",function(){t.executeImmediately?t.startQueue(t.onLoadQueue):t.queue=[...t.queue,...t.onLoadQueue]})}return f}register(e){this.executeImmediately?this.init(e):e[1]&&e[1].deferred?this.onLoadQueue.push(e):this.queue.push(e)}startQueue(e){var t=this;e.forEach(function(e){t.init(e)})}pluginImport(e){return n(19)(`./${e}`)}init(e){var t=this;const n=e.shift(),i=e.shift();this.pluginImport(n).then(function(e){const r=new(0,e.default)(t.tracker,i);t.pluginsRegistered[n]=r,r.init()}).catch(function(e){window.Inpl.Log.log(e,0,"iwa2_err")})}getEndValues(){const e={};return Object.entries(this.pluginsRegistered).forEach(function([t,n]){i.f(n.getUnloadData)&&i.l(e,n.getUnloadData())}),new g.a(e).serialize()}}var m=n(5),v=n(6);function k(e){let t=e.storage.get("_iwa_vid");return i.e(t)?t=t.value:(t=i.q(),e.storage.onSyncComplete(function(){const n=e.storage.get("_iwa_vid");i.e(n)&&n.value!==t?(t=n.value,e.send(["info","vid_correction",{_iwa_vid:t}])):e.storage.set("_iwa_vid",t)})),t}function I(){const e=(new m.a).get("UEMAIL",!0);return i.o(e)}function y(){const e=(new Date).getTimezoneOffset()/-60;return e<0?`UTC-${e}`:`UTC+${e}`}class b{constructor(e,t){this.config=e,this.tracker=t,this.plugin=new w(t),this.trackerContainer=t.trackerContainer(),this.storage=new h,this.storageCookie=new m.a,this.collector=e.request.socket.url}prepareData(e){const t=e,n={};t.cv?t.cv.set("requestType",this.config.request.requestType,"page"):t.cv=new g.a({requestType:this.config.request.requestType});const r=t.ec&&t.ec.customVariables&&Object.keys(t.ec.customVariables).length?t.ec.customVariables:{},s=t.cv&&t.cv.customVariables&&Object.keys(t.cv.customVariables).length?i.l(t.cv.customVariables,r):{},o=this.prepareBrowserInfoData();switch(n.Timestamp=Math.round(Date.now()/1e3),t.t){case"pageview":n.Msg_Type="PAGE_VIEW",n.Service_UID=this.trackerContainer.vid,n.Service_Host=this.trackerContainer.sh,n.URL=this.trackerContainer.dl,n.Title=this.trackerContainer.dt,n.Refferer=this.trackerContainer.dr,n.Encoding=this.trackerContainer.de,n.PageView=!this.tracker.noPageview,n.Email=this.trackerContainer.we,s&&(n.PageView_Data=t.cv.serialize()),this.tracker.continue&&this.tracker.pageViewID&&(n.Continue=1,n.PageView_ID=this.tracker.pageViewID);break;case"alive":n.Msg_Type="ALIVE";break;case"load":n.Msg_Type="LOAD",n.Can_Reload=this.tracker.canReload?2:1,n.Browser_Info=(new o).serialize(),n.Ver_Lib=this.trackerContainer.v,n.IFrame=this.trackerContainer.df,this.tracker.noPageview&&(n.App_Type=4),s&&(n.Load_Data=t.cv.serialize());break;case"outlinks":n.Msg_Type="OUTLINK",n.IWA_Block=s.iwa_block?s.iwa_block.value:"",n.IWA_Item=s.iwa_item?s.iwa_item.value:-1,n.IWA_URL=s.iwa_url?s.iwa_url.value:"",n.IWA_Hash=s.iwa_hash?s.iwa_hash.value:"",n.IWA_Is_Ad=0,this.tracker.pageViewID&&(n.PageView_ID=this.tracker.pageViewID),s&&(n.Outlink_Data=t.cv.serialize());break;case"endpageview":n.Msg_Type="END_PAGE_VIEW",n.EndPV_Data=this.plugin.getEndValues(),this.tracker.pageViewID&&(n.PageView_ID=this.tracker.pageViewID);break;case"stream":n.Msg_Type="STREAM",n.Action_Nr=s.actionNr?s.actionNr.value:"",n.Title=s.title?s.title.value:"",n.Origin=s.origin?s.origin.value:"",n.Attachment_ID=s.attachment_id?s.attachment_id.value:"",n.Type=r.ec0?r.ec0.value:"",n.Action=r.ec1?r.ec1.value:"",this.tracker.pageViewID&&(n.PageView_ID=this.tracker.pageViewID),s&&(n.Stream_Data=t.cv.serialize(),s.videoNr&&(n.Video_Nr=s.videoNr.value));break;case"event":if(n.Msg_Type="EVENT",this.tracker.pageViewID&&(n.PageView_ID=this.tracker.pageViewID),s&&(n.Event_Data=t.cv.serialize()),r)for(const[,e]of i.m(t.ec.customVariables))n[e.name]=e.value;break;case"debug":n.Msg_Type="DEBUG",this.tracker.pageViewID&&(n.PageView_ID=this.tracker.pageViewID),s&&(n.Debug_Data=t.cv.serialize());break;default:n.Msg_Type="INFO",this.tracker.pageViewID&&(n.PageView_ID=this.tracker.pageViewID),s&&(n.Info_Data=t.cv.serialize())}return n}prepareBrowserInfoData(){const e=Object(v.a)();return class{constructor(){this.Timezone_Offset=y(),this.Resolution=`${e.screenWidth}x${e.screenHeight}`,this.Colors=e.colorDepth,this.Pixel_Density=e.devicePixelRatio,this.Cookie=e.cookieEnabled?1:0,this.View_Port=`${e.viewportWidth}x${e.viewportHeight}`,this.Browser_Language=e.language}serialize(){var e=this;return Object.keys(this).map(function(t){return`${t}=${e[t]}`}).join("&")}}}storeServerUID(e){i.e(e)&&this.storage.set("Global_UID",e)}storeFirstPageViewReferrer(e,t=(new Date).getTime()+18e5){if(i.e(e)){const n=window.location.hostname,i=n.indexOf(".interia.pl"),r=-1!==i?n.slice(i):n;if(this.storageCookie.set("First_PageView_Referrer",{value:e,path:"/",domain:r,expire:t}),window.CustomEvent){const e=new window.CustomEvent("firstPageViewReferrerCookieSet",{detail:{storageExpireTimeInMs:t,domain:r}});window.dispatchEvent(e)}}}}class S{constructor(e,t,n){var i=this;this.tracker=t,this.config=e,this.emitter=n,this.plugin=new w(t),this.data=new b(e,t),this.collector=e.request.http.url,this.fixedEvents=[],this.eventsQueue=[],setTimeout(function(){i.sendLoadEvent(),i.sendPageViewEvent(),i.sendEndPageViewEvent(),i.emitter.fireEvent("collectorReady")})}send(e,t){"pageview"===e.t&&this.tracker.pageViewID&&this.buildRequest(e),("pageview"!==e.t||t)&&this.buildRequest(e)}buildRequest(e){var t=this;const n=this.data.prepareData(e),r=-1!==["LOAD","PAGE_VIEW"].indexOf(n.Msg_Type);if(r)this.fixedEvents.push({[n.Msg_Type]:n});else if(!this.tracker.pageViewID&&!r)return void this.eventsQueue.push(e);if(this.fixedEvents.length<2)return;const s={};"PAGE_VIEW"===n.Msg_Type?Object.assign(s,...this.fixedEvents):Object.assign(s,{[n.Msg_Type]:n});const o=encodeURIComponent(i.p(s));this.JSONP(this.collector,`json=${o}`).then(function(e){e&&"ACK_PAGE_VIEW"===e.Msg_Type&&e.PageView_ID&&(t.tracker.pageViewID=e.PageView_ID,t.data.storeServerUID(e.Global_UID),t.data.storeFirstPageViewReferrer(e.First_PageView_Referrer,e.Visit_Remaining_Time),t.eventsQueue.forEach(function(e){t.send(e)}),t.eventsQueue=[],t.emitter.fireEvent("pageview"))})}sendLoadEvent(){this.send(new d(["load"]))}sendPageViewEvent(){this.send(this.getPageViewEvent(),1)}getPageViewEvent(){const e=this.tracker.eventLoop;let t;for(let n=0;n<e.length;n++)if("pageview"===e[n].t){t=e[n];break}return t||(t=new d(["pageview",this.tracker.cv]),this.tracker.noPageview=!0),t}sendEndPageViewEvent(){var e=this;new p.a(window).on("beforeunload",function(){e.send(new d(["endpageview"]))})}JSONP(e,t){const n=document.getElementsByTagName("head")[0]||document.documentElement,i=document.createElement("script");let r=!1;return new Promise(function(s,o){i.src=e+(t?`?${t}`:""),i.onreadystatechange=function(){if(!(r||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){r=!0;const e=window.iwaCollectorResponse&&window.iwaCollectorResponse();e?s(e):o(),i.onreadystatechange=null,i.onload=i.onreadystatechange,n&&i.parentNode&&n.removeChild(i)}},i.onload=i.onreadystatechange,n.insertBefore(i,n.firstChild)})}}class E{constructor(e,t,n){this.tracker=t,this.config=e,this.emitter=n,this.storage=new h,this.plugin=new w(t),this.data=new b(e,t),this.collector=e.request.socket.url,this.reconnectionDelay=e.request.socket.reconnectionDelay,this.eventsQueue=[],this.socket=this.initializeWebSocketConnection(),this.sendEndPageViewEvent(),this.sendAliveEvent(),this.connectionRestoring()}send(e){if(this.socket.readyState===this.socket.OPEN&&("load"===e.t||this.ready||this.loadReady&&"pageview"===e.t)){if(this.ready&&"pageview"===e.t){const e=["endpageview"],t=this.data.prepareData(new d(e));this.socket.send(i.p(t))}const t=this.data.prepareData(e);this.socket.send(i.p(t))}else this.addEventToQueue(e),this.socket.readyState===this.socket.CLOSED&&(this.socket=this.initializeWebSocketConnection())}decodeURI(e){try{return decodeURIComponent(e)}catch(t){return e}}getPageViewEvent(){const e=this.tracker.eventLoop;let t;for(let n=0;n<e.length;n++)if("pageview"===e[n].t){t=e[n];break}return t||(t=new d(["pageview",this.tracker.cv]),this.tracker.noPageview=!0),t}initializeWebSocketConnection(){var e=this;this.socket&&this.socket.close();const t=new WebSocket(this.collector);return"addEventListener"in t&&(t.addEventListener("open",function(){e.pageview=e.pageview||e.getPageViewEvent(),e.addUAToEventCV(e.pageview),e.sendLoadEvent(),e.emitter.fireEvent("collectorReady"),setTimeout(function(){e.tracker.pageViewID||-1!==[e.socket.OPEN,e.socket.CONNECTING].indexOf(e.socket.readyState)||(e.tracker.continue=!0,e.socket=e.initializeWebSocketConnection())},e.reconnectionDelay)}),t.addEventListener("message",function(t){const n=i.n(t.data);n&&"ACK_PAGE_VIEW"===n.Msg_Type&&(e.tracker.pageViewID=n.PageView_ID,e.data.storeServerUID(n.Global_UID),e.data.storeFirstPageViewReferrer(n.First_PageView_Referrer,n.Visit_Remaining_Time),e.ready=!0,e.sendEventsQueue(),e.emitter.fireEvent("pageview")),n&&"ACK_LOAD"===n.Msg_Type&&(e.pageview?(e.loadReady=!0,e.sendEventsQueue("pageview")):(e.ready=!0,e.sendEventsQueue()))}),t.addEventListener("error",function(){if(!e.tracker.continue&&window.navigator.onLine){const t=new x;e.socket&&e.socket.close(),clearInterval(e.checkConnection),clearInterval(e.aliveEventLoop),e.config.request.socketEnabled=0,t.setRequestType()}})),t}sendAliveEvent(){var e=this;this.aliveEventLoop=setInterval(function(){e.socket.readyState===e.socket.OPEN&&e.send(new d(["alive"]))},6e4)}addUAToEventCV(e){if(i.h(e)){const t=this.tracker.trackerContainer().ua;t&&i.k(t)&&e.cv.setVar("userAgent",t,"page")}}sendLoadEvent(){this.send(new d(["load"]))}sendEndPageViewEvent(){var e=this;new p.a(window).on("beforeunload",function(){e.send(new d(["endpageview"]))})}sendEventsQueue(e){var t=this;"pageview"===e?this.send(this.pageview):this.eventsQueue.forEach(function(n){n.t!==e&&e||(t.eventsQueue=t.eventsQueue.filter(function(e){return e!==n}),t.send(n))})}addEventToQueue(e){"pageview"!==e.t||this.pageview?"pageview"!==e.t&&this.eventsQueue.push(e):this.pageview=e}connectionRestoring(){var e=this;this.checkConnection=setInterval(function(){if(-1===[e.socket.OPEN,e.socket.CONNECTING].indexOf(e.socket.readyState)&&e.eventsQueue.length){clearInterval(e.checkConnection);let t=3;e.checkConnection=setInterval(function(){(t-=1)<0&&(clearInterval(e.checkConnection),e.socket=e.initializeWebSocketConnection(),e.connectionRestoring())},1e3)}},100)}}let _=null;class x{constructor(e,t,n){return _||(_=this,this.config=e,this.tracker=t,this.emitter=n,this.setRequestType(e,t,n)),_}setRequestType(){1===this.config.request.socketEnabled&&"WebSocket"in window?(this.config.request.requestType="socket",this.request=new E(this.config,this.tracker,this.emitter)):(this.config.request.requestType="http",this.request=new S(this.config,this.tracker,this.emitter))}send(e){"info"!==e.t||"http"!==this.config.request.requestType?this.request.send(e):(window.Inpl.Log.log("iwa2_err","1"),window.Inpl.Log.log("INFO_NOT_AVAILABLE",0,"iwa2_err"))}}var V=n(4);class C{constructor(e){const t=new V.a;if(this.config=t.getEnvConfig(),this.type=e,"browser"===this.config.type){let t;try{t=new Event(e)}catch(n){(t=document.createEvent("Event")).initEvent(e,!0,!0)}return t}}}function A(){return window.self!==window.top?1:0}function O(e){const t=i.b().url;let n=(e||(A()&&t?i.a(decodeURIComponent(t)).host:location.host)).split(".");return"www"===n[0]&&n.shift(),function(e){const t=e.indexOf(":");let n=e;return-1!==t&&(n=e.slice(0,t)),n}(n=n.join("."))}function N(){let e="";return i.k(document.characterSet)&&(e=document.characterSet.toUpperCase()),e}const D=(new V.a).getConfig();function T(){const e=i.b().url,t=A()&&e?i.a(decodeURIComponent(e)).pathname:location.pathname;return encodeURIComponent(t.substring(0,D.paramMaxLength))}function P(){const e=i.b().url,t=A()&&e?decodeURIComponent(e):location.href;return encodeURIComponent(t.substring(0,D.paramMaxLength))}let L=null;class j{constructor(e){return L||(L=this,this.config=e,this.emitter=new p.a(this.config.environment.global),this.storage=new h,this.plugins=new w(this),this.cv=new g.a,this.params={},this.eventLoop=[],this.ready=!1,this.hitReady=!1),L}addToRequestQueue(e){this.eventLoop.push(e)}send(e){const t=Array.from(e);"pageview"===t[0]&&t.push(this.cv);const n=new d(t);this.addToRequestQueue(n),this.startQueue()}plugin(e){const t=Array.from(e),n=t.shift();"register"===n&&this.plugins[n](t)}customVariables(e,t,n,i){this.cv[e](t,n,i)}create(e){var t=this;this.params.tracker=e,this.getData(),this.startTracking=new C("startTracking"),this.collectorReady=new C("collectorReady"),this.emitter.on("collectorReady",function(){t.hitReady=!0,t.startQueue()}),this.emitter.on("startTracking",function(){t.ready=!0,t.request=new x(t.config,t,t.emitter)}),this.emitter.fireEvent("startTracking")}startQueue(){var e=this;!0===this.ready&&!0===this.hitReady&&this.eventLoop.forEach(function(t,n){t&&(e.request.send(t),delete e.eventLoop[n])})}getData(){var e=this;this.updateParams=new C("updateParams"),this.emitter.on("updateParams",function(){e.updateParams()})}get(e){let t;if(i.k(e))switch(e){case"visitorId":t=k(this);break;case"sessionDomain":t=this.sessionDomain;break;default:window.Inpl.Log.log("UNKNOWN_ACTION_TYPE_GET",e,"iwa2_err")}return t}trackerContainer(){return{vid:k(this),p:(new Date).getTime(),sh:O(),dt:document.title.substring(0,D.paramMaxLength),dp:T(),dl:P(),dr:encodeURIComponent(document.referrer),de:N(),df:A(),ud:"",bs:v.b(),br:`${window.screen.width}x${window.screen.height}`,bo:window.screen.colorDepth,bd:window.devicePixelRatio,bv:`${window.innerWidth}x${window.innerHeight}`,bt:y(),bl:window.navigator.language,we:I(),bf:v.c(),ua:window.navigator.userAgent,v:this.config.version}}}let W=null;class R{constructor(){return W||(this.configInstance=new V.a,this.conf=this.configInstance.getConfig(),this.tracker=new j(this.conf),W=this),W}execute(...e){var t=this;const n=i.k(e[0])?e:e[0];let r;return i.f(n)?this.callbackExecution(n):i.k(n[0])?r=this.executionFacade(n):Array.from(n).forEach(function(e){t.executionFacade(Array.from(e))}),r}executionFacade(e){let t,n;try{t=e.shift()}catch(e){window.Inpl.Log.log(e,0,"iwa2_err")}if(i.f(this[t]))this[t].call(this,e);else switch(i.f(t)&&t.apply(this,[this.tracker]),t){case"trackEvent":e.unshift("event"),this.send(e);break;case"complete":e.unshift("complete"),this.send(e);break;case"unload":e.unshift("unload"),this.send(e);break;case"setCustomVar":e.unshift("set"),this.customVariable(e);break;case"deleteCustomVar":e.unshift("delete"),this.customVariable(e);break;case"clickMap":e.unshift("clickMap"),e.unshift("register"),this.plugin(e);break;default:i.f(this.tracker[t])?n=this.tracker[t].bind(this.tracker):window.Inpl.Log.log("UNKNOWN_ACTION_TYPE",t,"iwa2_err")}return n}callbackExecution(e){e.apply(this,[this.tracker])}send(e){this.tracker.send(e)}stream(e){this.tracker.send(["stream",...e])}create(e){this.tracker.create(e[0])}plugin(e){this.tracker.plugin(e)}customVariable(e){const t=e.shift();"set"===t?this.tracker.customVariables("set",e[0],e[1],e[2]):"del"===t&&this.tracker.customVariables("del",e)}config(e){const t=e.shift();this.configInstance.setConfig(t)}debug(e){this.tracker.send(["debug",...e])}}window.Inpl=window.Inpl||{},window.Inpl.Log=window.Inpl.Log||{},window.Inpl.Log.log=window.Inpl.Log.log||console.log,function(){const e=new R;let t,n;void 0!==window.IWA2Object&&void 0!==window[window.IWA2Object]&&(t=window.IWA2Object,n=window[t].q||[],e.execute(n)),window[t]=function(...t){return e.execute.call(e,...t)}}()}]);