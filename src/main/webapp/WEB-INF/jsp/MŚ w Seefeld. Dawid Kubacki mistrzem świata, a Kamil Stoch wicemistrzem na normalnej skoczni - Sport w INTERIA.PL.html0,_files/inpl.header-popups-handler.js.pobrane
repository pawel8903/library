!function(a,b){"use strict";function c(a,b){b.classList?b.classList.remove(a):b.className=b.className.replace(new RegExp("(^|\\b)"+a.split(" ").join("|")+"(\\b|$)","gi")," ")}function d(a,b){var c,d;b.classList?b.classList.toggle(a):(c=b.className.split(" "),d=c.indexOf(a),d>=0?c.splice(d,1):c.push(a),b.className=c.join(" "))}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(a){var c=this;if(!b.documentElement.contains(c))return null;do{if(c.matches(a))return c;c=c.parentElement||c.parentNode}while(null!==c&&1===c.nodeType);return null});var e=a.MutationObserver||a.WebKitMutationObserver||a.MozMutationObserver;if(a.Inpl=a.Inpl||{},a.Inpl.hasOwnProperty("HeaderPopupsHandler"))return void console.log("Istnieje ju≈º window.Inpl.HeaderPopupsHandler!");var f=Inpl.HeaderPopupsHandler={attributeNames:{popup:"data-header-popup",popupHide:"data-header-popup-hide",popupTrigger:"data-header-popup-trigger",popupEnable:"data-header-popup-enable"},dom:{popups:[],popupHideElements:[],popupTriggerElements:[]},classNames:{popupIsVisible:"common-header__popup--visible",popupTriggerIsActive:"common-header__icon--active"},domObserver:null,outsidePopupClickHandler:function(a,b){b.target.closest("["+f.attributeNames.popup+"="+a.getAttribute(f.attributeNames.popup)+"]")||(c(f.classNames.popupIsVisible,a),c(f.classNames.popupTriggerIsActive,a.popupTriggerElement),a.isVisible=!1)},popupTriggerClickHandler:function(a,b){var e;for(e=0;e<f.dom.popups.length;e++)a.getAttribute(f.attributeNames.popup)===f.dom.popups[e].getAttribute(f.attributeNames.popup)?(d(f.classNames.popupIsVisible,f.dom.popups[e]),d(f.classNames.popupTriggerIsActive,f.dom.popups[e].popupTriggerElement),f.dom.popups[e].isVisible=!a.isVisible,"function"==typeof iwa&&f.dom.popups[e].isVisible&&"search"===f.dom.popups[e].getAttribute(f.attributeNames.popup)&&iwa("trackEvent","naglowek","szukaj","view")):(c(f.classNames.popupIsVisible,f.dom.popups[e]),c(f.classNames.popupTriggerIsActive,f.dom.popups[e].popupTriggerElement),f.dom.popups[e].isVisible=!1);b.stopPropagation()},escKeyClickHandler:function(a,b){27===b.keyCode&&(c(f.classNames.popupIsVisible,a),c(f.classNames.popupTriggerIsActive,a.popupTriggerElement),a.isVisible=!1)},popupHideElementClickHandler:function(a,b){c(f.classNames.popupIsVisible,a),c(f.classNames.popupTriggerIsActive,a.popupTriggerElement),a.isVisible=!1,b.stopPropagation()},onOutsidePopupClick:function(b){b.bindedOutsidePopupClickHandler=f.outsidePopupClickHandler.bind(f,b),a.addEventListener("click",b.bindedOutsidePopupClickHandler)},offOutsidePopupClick:function(b){a.removeEventListener("click",b.bindedOutsidePopupClickHandler)},onPopupTriggerClick:function(a){a.bindedPopupTriggerClickHandler=f.popupTriggerClickHandler.bind(f,a),a.popupTriggerElement.addEventListener("click",a.bindedPopupTriggerClickHandler)},offPopupTriggerClick:function(a){a.popupTriggerElement.removeEventListener("click",a.bindedPopupTriggerClickHandler)},onEscKeyClick:function(a){a.bindedEscKeyClickHandler=f.escKeyClickHandler.bind(f,a),b.addEventListener("keydown",a.bindedEscKeyClickHandler)},offEscKeyClick:function(a){b.removeEventListener("keydown",a.bindedEscKeyClickHandler)},onPopupHideElementClick:function(a){a.bindedPopupHideElementClickHandler=f.popupHideElementClickHandler.bind(f,a),a.popupHideElement.addEventListener("click",a.bindedPopupHideElementClickHandler)},offPopupHideElementClick:function(a){a.popupHideElement.removeEventListener("click",a.bindedPopupHideElementClickHandler)},addPopupEventListeners:function(a){this.onOutsidePopupClick(a),this.onPopupTriggerClick(a),this.onEscKeyClick(a),this.onPopupHideElementClick(a)},removePopupEventListeners:function(a){this.offOutsidePopupClick(a),this.offPopupTriggerClick(a),this.offEscKeyClick(a),this.offPopupHideElementClick(a)},domMutationHandler:function(a){var b;for(b=0;b<a.length;b++)"attributes"===a[b].type&&a[b].attributeName===f.attributeNames.popupEnable&&(a[b].target.hasAttribute(f.attributeNames.popup)&&a[b].target.hasAttribute(f.attributeNames.popupEnable)?f.addPopupEventListeners(a[b].target):a[b].target.hasAttribute(f.attributeNames.popup)&&f.removePopupEventListeners(a[b].target))},addPopupTriggerPropertyToPopup:function(a,b){b.getAttribute(this.attributeNames.popupTrigger)===a.getAttribute(this.attributeNames.popup)&&(a.popupTriggerElement=b)},addPopupHidePropertyToPopup:function(a,b){b.getAttribute(this.attributeNames.popupHide)===a.getAttribute(this.attributeNames.popup)&&(a.popupHideElement=b)},init:function(){var a,c,d;for(this.dom.popups=b.querySelectorAll("["+this.attributeNames.popup+"]"),this.dom.popupHideElements=b.querySelectorAll("["+this.attributeNames.popupHide+"]"),this.dom.popupTriggerElements=b.querySelectorAll("["+this.attributeNames.popupTrigger+"]"),this.domObserver=new e(this.domMutationHandler),a=0;a<this.dom.popups.length;a++){for(this.dom.popups[a].isVisible=!1,c=0;c<this.dom.popupTriggerElements.length;c++)this.addPopupTriggerPropertyToPopup(this.dom.popups[a],this.dom.popupTriggerElements[c]);for(d=0;d<this.dom.popupHideElements.length;d++)this.addPopupHidePropertyToPopup(this.dom.popups[a],this.dom.popupHideElements[d]);this.dom.popups[a].hasAttribute(this.attributeNames.popupEnable)&&this.addPopupEventListeners(this.dom.popups[a]),this.domObserver.observe(this.dom.popups[a],{attributes:!0})}}}}(window,document);